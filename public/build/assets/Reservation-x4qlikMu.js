import{e as u,r as T,n as F,g as e,o,u as N,c as _,w as a,b as l,a as i,j as U,h as n,t as d,f as c,F as b,i as g}from"./app-CwqbuaoV.js";import{_ as h}from"./GuestLayout-Dv_Mn_h-.js";import{_ as k}from"./Card-di3Gb9u6.js";import{_ as $,a as w,b as V}from"./CardTitle-BU-mPokq.js";import{c as j}from"./utils-shxNTvJ-.js";import{_ as C}from"./index-BYXQZvXk.js";import{_ as f}from"./Label-C0F5AhvR.js";import{_ as R}from"./Input-MrDL1z9k.js";import{_ as z,a as A,b as D,c as M,d as Y}from"./SelectValue-V1-LUZIc.js";import{_ as v}from"./index-CicusVC5.js";import"./ApplicationMark-CZiei0DI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-CYy-q1Wy.js";import"./createLucideIcon-CPcqOnVP.js";const S={__name:"CardFooter",props:{class:{type:null,required:!1}},setup(m){const p=m;return(r,y)=>(o(),u("div",{class:F(e(j)("flex items-center p-6 pt-0",p.class))},[T(r.$slots,"default")],2))}},q={class:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 py-16 px-4"},E={class:"max-w-6xl mx-auto space-y-16"},H={class:"text-gray-500 text-sm"},L={class:"font-semibold"},O={class:"space-y-2"},G={class:"flex items-center justify-between"},I={key:0,class:"text-red-500 text-sm"},J={class:"space-y-2"},K={key:0,class:"text-red-500 text-sm"},P={class:"space-y-2"},Q={key:0,class:"text-red-500 text-sm"},W={key:0,class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6"},X={key:1,class:"text-gray-500 text-center py-12 italic"},fe={__name:"Reservation",props:{guest:Object,tables:Array,reservations:Array},setup(m){const r=N({guest_id:m.guest.id,table_id:"",reservation_date:"",reservation_time:""}),y=()=>{r.post(route("reservations.store"),{onSuccess:()=>{r.reset("table_id","reservation_date","reservation_time")}})},B=x=>{confirm("Cancel this reservation?")&&r.delete(route("reservations.destroy",x),{preserveScroll:!0})};return(x,t)=>(o(),_(h,{title:"My Reservations"},{default:a(()=>[l(e(U),{title:"My Reservations"}),i("div",q,[i("div",E,[l(e(k),{class:"max-w-2xl mx-auto shadow-xl border-gray-200"},{default:a(()=>[l(e($),{class:"text-center space-y-2"},{default:a(()=>[l(e(w),{class:"text-3xl font-extrabold text-gray-800"},{default:a(()=>[...t[3]||(t[3]=[n(" Book a Table 🍽️ ",-1)])]),_:1}),i("p",H,[t[4]||(t[4]=n(" Hello, ",-1)),i("span",L,d(m.guest.name),1),t[5]||(t[5]=n(" — plan your perfect meal. ",-1))])]),_:1}),l(e(V),{class:"space-y-6"},{default:a(()=>[i("div",O,[l(e(f),{class:"text-gray-700 font-medium"},{default:a(()=>[...t[6]||(t[6]=[n("Select Table",-1)])]),_:1}),l(e(z),{modelValue:e(r).table_id,"onUpdate:modelValue":t[0]||(t[0]=s=>e(r).table_id=s)},{default:a(()=>[l(e(A),{class:"w-full"},{default:a(()=>[l(e(D),{placeholder:"Choose a table"})]),_:1}),l(e(M),null,{default:a(()=>[(o(!0),u(b,null,g(m.tables,s=>(o(),_(e(Y),{key:s.id,value:s.id,disabled:s.status==="unavailable"},{default:a(()=>[i("div",G,[i("span",null,d(s.name),1),s.status==="unavailable"?(o(),_(e(v),{key:0,variant:"destructive",class:"ml-2 text-xs"},{default:a(()=>[...t[7]||(t[7]=[n(" Unavailable ",-1)])]),_:1})):(o(),_(e(v),{key:1,variant:"outline",class:"ml-2 text-xs text-green-700 border-green-300"},{default:a(()=>[...t[8]||(t[8]=[n(" Available ",-1)])]),_:1}))])]),_:2},1032,["value","disabled"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.table_id?(o(),u("p",I,d(e(r).errors.table_id),1)):c("",!0)]),i("div",J,[l(e(f),{class:"text-gray-700 font-medium"},{default:a(()=>[...t[9]||(t[9]=[n("Reservation Date",-1)])]),_:1}),l(e(R),{type:"date",modelValue:e(r).reservation_date,"onUpdate:modelValue":t[1]||(t[1]=s=>e(r).reservation_date=s),class:"w-full"},null,8,["modelValue"]),e(r).errors.reservation_date?(o(),u("p",K,d(e(r).errors.reservation_date),1)):c("",!0)]),i("div",P,[l(e(f),{class:"text-gray-700 font-medium"},{default:a(()=>[...t[10]||(t[10]=[n("Reservation Time",-1)])]),_:1}),l(e(R),{type:"time",modelValue:e(r).reservation_time,"onUpdate:modelValue":t[2]||(t[2]=s=>e(r).reservation_time=s),class:"w-full"},null,8,["modelValue"]),e(r).errors.reservation_time?(o(),u("p",Q,d(e(r).errors.reservation_time),1)):c("",!0)])]),_:1}),l(e(S),null,{default:a(()=>[l(e(C),{class:"w-full text-lg font-semibold",disabled:e(r).processing,onClick:y},{default:a(()=>[n(d(e(r).processing?"Submitting...":"Reserve Table"),1)]),_:1},8,["disabled"])]),_:1})]),_:1}),i("div",null,[t[12]||(t[12]=i("h2",{class:"text-2xl font-bold mb-6 text-gray-800"}," Your Reservations ",-1)),m.reservations.length?(o(),u("div",W,[(o(!0),u(b,null,g(m.reservations,s=>(o(),_(e(k),{key:s.id,class:"shadow-md hover:shadow-lg transition border border-gray-200"},{default:a(()=>[l(e($),null,{default:a(()=>[l(e(w),{class:"text-lg font-semibold text-gray-800"},{default:a(()=>[n(d(s.table.name),1)]),_:2},1024),l(e(v),{variant:s.status==="pending"?"outline":s.status==="confirmed"?"default":s.status==="cancelled"?"destructive":"secondary",class:"capitalize"},{default:a(()=>[n(d(s.status),1)]),_:2},1032,["variant"])]),_:2},1024),l(e(V),{class:"text-sm text-gray-600 space-y-1"},{default:a(()=>[i("p",null,"📅 "+d(s.reservation_date),1),i("p",null,"🕒 "+d(s.reservation_time),1)]),_:2},1024),l(e(S),null,{default:a(()=>[s.status!=="cancelled"&&s.status!=="completed"?(o(),_(e(C),{key:0,variant:"destructive",size:"sm",class:"w-full",onClick:Z=>B(s.id)},{default:a(()=>[...t[11]||(t[11]=[n(" Cancel Reservation ",-1)])]),_:1},8,["onClick"])):c("",!0)]),_:2},1024)]),_:2},1024))),128))])):(o(),u("div",X," You don’t have any reservations yet. Start by booking a table above. "))])])])]),_:1}))}};export{fe as default};
