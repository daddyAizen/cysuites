import{u as V,d as B,c as F,w as i,b as a,a as l,g as s,j as G,h as d,k as c,p as g,e as m,o as u,F as y,i as b,t as r,a3 as w,n as N}from"./app-CwqbuaoV.js";import{_ as j}from"./AppLayout-BMi79edI.js";import{_ as v}from"./index-BYXQZvXk.js";import{_ as M}from"./index-CicusVC5.js";import{_ as $,a as C,b as S,c as U}from"./DialogTitle--WiQzZXd.js";import{_ as I}from"./DialogTrigger-Dyjtx2I6.js";import{_ as k}from"./Input-MrDL1z9k.js";import{_ as f}from"./Label-C0F5AhvR.js";import"./ApplicationMark-CZiei0DI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-CYy-q1Wy.js";import"./utils-shxNTvJ-.js";import"./createLucideIcon-CPcqOnVP.js";const L={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},P={class:"flex justify-between items-center mb-6"},q=["value"],H=["value","disabled"],J={class:"flex gap-3"},K={class:"flex-1"},O={class:"flex-1"},Q={class:"overflow-x-auto bg-white dark:bg-neutral-800 shadow rounded-xl"},W={class:"min-w-full divide-y divide-gray-200 dark:divide-neutral-700"},X={class:"divide-y divide-gray-200 dark:divide-neutral-700"},Y={class:"px-6 py-4"},Z={class:"px-6 py-4"},h={class:"px-6 py-4"},tt={class:"px-6 py-4"},et={class:"px-6 py-4"},st={class:"px-6 py-4 text-right flex justify-end gap-2"},lt=["value"],at=["value"],it={class:"flex gap-3"},ot={class:"flex-1"},dt={class:"flex-1"},nt={class:"flex gap-3 pt-4"},Vt={__name:"Index",props:{reservations:Array,tables:Array,guests:Array},setup(A){const _=A,n=V({guest_id:"",table_id:"",reservation_date:"",reservation_time:""}),o=V({id:null,guest_id:"",table_id:"",reservation_date:"",reservation_time:"",status:""}),x=B(!1),R=()=>{n.post(route("reservations.store"),{onSuccess:()=>n.reset()})},T=p=>{o.id=p.id,o.guest_id=p.guest_id,o.table_id=p.table_id,o.reservation_date=p.reservation_date,o.reservation_time=p.reservation_time,o.status=p.status,x.value=!0},D=()=>{o.post(route("reservations.update",o.id),{onSuccess:()=>{o.reset(),x.value=!1}})},E=p=>{confirm("Are you sure you want to delete this reservation?")&&n.post(route("reservations.cancel",p))};return(p,t)=>(u(),F(j,{title:"Reservations"},{header:i(()=>[...t[11]||(t[11]=[l("h2",{class:"font-semibold text-xl text-gray-800 dark:text-white leading-tight"}," Reservations ",-1)])]),default:i(()=>[a(s(G),{title:"Reservations"}),l("div",L,[l("div",P,[a(s($),null,{default:i(()=>[a(s(I),{"as-child":""},{default:i(()=>[a(s(v),{class:"hover:bg-indigo-700"},{default:i(()=>[...t[12]||(t[12]=[d("+ Add Reservation",-1)])]),_:1})]),_:1}),a(s(C),{class:"max-w-md"},{default:i(()=>[a(s(S),null,{default:i(()=>[a(s(U),null,{default:i(()=>[...t[13]||(t[13]=[d("Add New Reservation",-1)])]),_:1})]),_:1}),l("form",{onSubmit:c(R,["prevent"]),class:"space-y-4 mt-4"},[l("div",null,[a(s(f),null,{default:i(()=>[...t[14]||(t[14]=[d("Guest",-1)])]),_:1}),g(l("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s(n).guest_id=e),class:"input w-full rounded-md border-gray-300"},[t[15]||(t[15]=l("option",{disabled:"",value:""},"Select Guest",-1)),(u(!0),m(y,null,b(_.guests,e=>(u(),m("option",{key:e.id,value:e.id},r(e.name),9,q))),128))],512),[[w,s(n).guest_id]])]),l("div",null,[a(s(f),null,{default:i(()=>[...t[16]||(t[16]=[d("Table",-1)])]),_:1}),g(l("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s(n).table_id=e),class:"input w-full rounded-md border-gray-300"},[t[17]||(t[17]=l("option",{disabled:"",value:""},"Select Table",-1)),(u(!0),m(y,null,b(_.tables,e=>(u(),m("option",{key:e.id,value:e.id,disabled:e.status==="unavailable"},r(e.name)+" ("+r(e.status)+") ",9,H))),128))],512),[[w,s(n).table_id]])]),l("div",J,[l("div",K,[a(s(f),null,{default:i(()=>[...t[18]||(t[18]=[d("Date",-1)])]),_:1}),a(s(k),{type:"date",modelValue:s(n).reservation_date,"onUpdate:modelValue":t[2]||(t[2]=e=>s(n).reservation_date=e)},null,8,["modelValue"])]),l("div",O,[a(s(f),null,{default:i(()=>[...t[19]||(t[19]=[d("Time",-1)])]),_:1}),a(s(k),{type:"time",modelValue:s(n).reservation_time,"onUpdate:modelValue":t[3]||(t[3]=e=>s(n).reservation_time=e)},null,8,["modelValue"])])]),a(s(v),{type:"submit",class:"w-full bg-indigo-600 hover:bg-indigo-700"},{default:i(()=>[d(r(s(n).processing?"Adding...":"Add Reservation"),1)]),_:1})],32)]),_:1})]),_:1})]),l("div",Q,[l("table",W,[t[22]||(t[22]=l("thead",{class:"bg-gray-100 dark:bg-neutral-900"},[l("tr",null,[l("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600"},"Guest"),l("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600"},"Table"),l("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600"},"Date"),l("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600"},"Time"),l("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600"},"Status"),l("th",{class:"px-6 py-3 text-right text-xs font-semibold text-gray-600"},"Actions")])],-1)),l("tbody",X,[(u(!0),m(y,null,b(_.reservations,e=>(u(),m("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-neutral-700 transition"},[l("td",Y,r(e.guest.name),1),l("td",Z,r(e.table.name),1),l("td",h,r(e.reservation_date),1),l("td",tt,r(e.reservation_time),1),l("td",et,[a(s(M),{class:N([{"bg-yellow-500":e.status==="pending","bg-green-600":e.status==="confirmed","bg-red-600":e.status==="cancelled","bg-gray-500":e.status==="completed"},"capitalize text-white"])},{default:i(()=>[d(r(e.status),1)]),_:2},1032,["class"])]),l("td",st,[a(s(v),{size:"sm",variant:"secondary",onClick:z=>T(e)},{default:i(()=>[...t[20]||(t[20]=[d("Edit",-1)])]),_:1},8,["onClick"]),a(s(v),{size:"sm",variant:"destructive",onClick:z=>E(e.id)},{default:i(()=>[...t[21]||(t[21]=[d("Delete",-1)])]),_:1},8,["onClick"])])]))),128))])])])]),a(s($),{open:x.value,"onUpdate:open":t[10]||(t[10]=e=>x.value=e)},{default:i(()=>[a(s(C),{class:"max-w-md"},{default:i(()=>[a(s(S),null,{default:i(()=>[a(s(U),null,{default:i(()=>[...t[23]||(t[23]=[d("Edit Reservation",-1)])]),_:1})]),_:1}),l("form",{onSubmit:c(D,["prevent"]),class:"space-y-4 mt-4"},[l("div",null,[a(s(f),null,{default:i(()=>[...t[24]||(t[24]=[d("Guest",-1)])]),_:1}),g(l("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>s(o).guest_id=e),class:"input w-full rounded-md border-gray-300"},[(u(!0),m(y,null,b(_.guests,e=>(u(),m("option",{key:e.id,value:e.id},r(e.name),9,lt))),128))],512),[[w,s(o).guest_id]])]),l("div",null,[a(s(f),null,{default:i(()=>[...t[25]||(t[25]=[d("Table",-1)])]),_:1}),g(l("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>s(o).table_id=e),class:"input w-full rounded-md border-gray-300"},[(u(!0),m(y,null,b(_.tables,e=>(u(),m("option",{key:e.id,value:e.id},r(e.name),9,at))),128))],512),[[w,s(o).table_id]])]),l("div",it,[l("div",ot,[a(s(f),null,{default:i(()=>[...t[26]||(t[26]=[d("Date",-1)])]),_:1}),a(s(k),{type:"date",modelValue:s(o).reservation_date,"onUpdate:modelValue":t[6]||(t[6]=e=>s(o).reservation_date=e)},null,8,["modelValue"])]),l("div",dt,[a(s(f),null,{default:i(()=>[...t[27]||(t[27]=[d("Time",-1)])]),_:1}),a(s(k),{type:"time",modelValue:s(o).reservation_time,"onUpdate:modelValue":t[7]||(t[7]=e=>s(o).reservation_time=e)},null,8,["modelValue"])])]),l("div",null,[a(s(f),null,{default:i(()=>[...t[28]||(t[28]=[d("Status",-1)])]),_:1}),g(l("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>s(o).status=e),class:"input w-full rounded-md border-gray-300"},[...t[29]||(t[29]=[l("option",{value:"pending"},"Pending",-1),l("option",{value:"confirmed"},"Confirmed",-1),l("option",{value:"cancelled"},"Cancelled",-1),l("option",{value:"completed"},"Completed",-1)])],512),[[w,s(o).status]])]),l("div",nt,[a(s(v),{type:"submit",class:"flex-1 bg-indigo-600 hover:bg-indigo-700"},{default:i(()=>[d(r(s(o).processing?"Saving...":"Save Changes"),1)]),_:1}),a(s(v),{type:"button",variant:"destructive",class:"flex-1",onClick:t[9]||(t[9]=e=>x.value=!1)},{default:i(()=>[...t[30]||(t[30]=[d("Cancel",-1)])]),_:1})])],32)]),_:1})]),_:1},8,["open"])]),_:1}))}};export{Vt as default};
