import{u as y,c as b,w as i,b as o,a,g as e,j as N,e as m,o as u,F as I,i as j,f as c,h as n,t as p,n as F,k}from"./app-vtqjdjmy.js";import{_ as D}from"./AppLayout-Cyl3tDUk.js";import{d as v}from"./index-Cf7BxZye.js";import{_ as E}from"./Card-CFDuhwuU.js";import{_ as z,a as P,b as K}from"./CardTitle-8h_-C4W5.js";import{_ as x}from"./index-Ivxq07LS.js";import{_ as O}from"./index-5Zsf0y40.js";import{_ as w,a as h,b as V,c as $}from"./DialogTitle-fQLhWCRk.js";import{_ as L}from"./DialogTrigger-BpyRNux7.js";import{_}from"./Input-DWSMLlHN.js";import{_ as f}from"./Label-BejvP6aA.js";import{_ as M}from"./Textarea-DjPqKcl9.js";import"./ApplicationMark-DGkoKDh2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-B_2EVZXF.js";import"./utils-DwRZPFH2.js";import"./createLucideIcon-BRHg-Rzb.js";const T={class:"flex justify-between items-center"},q={class:"space-y-1.5"},G={key:0,class:"text-sm text-red-500"},H={class:"space-y-1.5"},J={key:0,class:"text-sm text-red-500"},Q={class:"space-y-1.5"},R={key:0,class:"text-sm text-red-500"},W={class:"space-y-1.5"},X={key:0,class:"text-sm text-red-500"},Y=["disabled"],Z={class:"py-10 max-w-7xl mx-auto sm:px-6 lg:px-8"},ee={key:0,class:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3"},te={class:"w-full h-48 overflow-hidden bg-gray-100 dark:bg-neutral-900"},se=["src"],oe={class:"text-gray-700 dark:text-gray-400 line-clamp-3"},re={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mt-2"},ie={class:"flex flex-col sm:flex-row gap-2 mt-4"},le={key:1,class:"text-center py-20 text-gray-500 dark:text-gray-400 space-y-2"},ae={class:"space-y-1.5"},de={key:0,class:"text-sm text-red-500"},ne={class:"space-y-1.5"},pe={key:0,class:"text-sm text-red-500"},ue={class:"space-y-1.5"},me={key:0,class:"text-sm text-red-500"},ce={class:"space-y-1.5"},fe={key:0,class:"text-sm text-red-500"},_e={class:"flex space-x-2 pt-4"},Ie={__name:"Index",props:{menus:Array},setup(g){const l=y({name:"",description:"",price:"",picture:null,is_out_of_stock:!1}),s=y({id:null,name:"",description:"",price:"",picture:null,is_out_of_stock:!1}),C=()=>{const d=new FormData;d.append("name",l.name),d.append("description",l.description),d.append("price",l.price),d.append("is_out_of_stock",l.is_out_of_stock?1:0),l.picture&&d.append("picture",l.picture),l.post(route("menu.store"),{onSuccess:()=>l.reset()})},S=d=>{s.id=d.id,s.name=d.name,s.description=d.description,s.price=d.price,s.is_out_of_stock=d.is_out_of_stock,s.picture=null},U=()=>{const d=new FormData;d.append("name",s.name),d.append("description",s.description),d.append("price",s.price),d.append("is_out_of_stock",s.is_out_of_stock?1:0),s.picture&&d.append("picture",s.picture),v.Inertia.post(route("menu.update",s.id),d,{onSuccess:()=>{s.reset(),s.id=null}})},A=d=>{v.Inertia.post(route("menu.toggleStock",d))};return(d,t)=>(u(),b(D,{title:"Menu Management"},{header:i(()=>[a("div",T,[t[16]||(t[16]=a("h2",{class:"font-semibold text-2xl text-gray-900 dark:text-white leading-tight"}," Menu Management ",-1)),o(e(w),null,{default:i(()=>[o(e(L),{"as-child":""},{default:i(()=>[...t[10]||(t[10]=[a("button",{size:"lg",class:"font-medium bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition"}," + Add Menu Item ",-1)])]),_:1}),o(e(h),{class:"sm:max-w-lg p-6 rounded-2xl"},{default:i(()=>[o(e(V),null,{default:i(()=>[o(e($),{class:"text-lg font-semibold text-gray-900 dark:text-white"},{default:i(()=>[...t[11]||(t[11]=[n(" Add New Menu Item ",-1)])]),_:1})]),_:1}),a("form",{onSubmit:k(C,["prevent"]),class:"space-y-5 mt-4"},[a("div",q,[o(e(f),null,{default:i(()=>[...t[12]||(t[12]=[n("Name",-1)])]),_:1}),o(e(_),{modelValue:e(l).name,"onUpdate:modelValue":t[0]||(t[0]=r=>e(l).name=r),placeholder:"e.g. Beef Burger"},null,8,["modelValue"]),e(l).errors.name?(u(),m("p",G,p(e(l).errors.name),1)):c("",!0)]),a("div",H,[o(e(f),null,{default:i(()=>[...t[13]||(t[13]=[n("Description",-1)])]),_:1}),o(e(M),{modelValue:e(l).description,"onUpdate:modelValue":t[1]||(t[1]=r=>e(l).description=r),placeholder:"Short description..."},null,8,["modelValue"]),e(l).errors.description?(u(),m("p",J,p(e(l).errors.description),1)):c("",!0)]),a("div",Q,[o(e(f),null,{default:i(()=>[...t[14]||(t[14]=[n("Price (Ksh)",-1)])]),_:1}),o(e(_),{modelValue:e(l).price,"onUpdate:modelValue":t[2]||(t[2]=r=>e(l).price=r),type:"number",step:"0.01",placeholder:"250.00"},null,8,["modelValue"]),e(l).errors.price?(u(),m("p",R,p(e(l).errors.price),1)):c("",!0)]),a("div",W,[o(e(f),null,{default:i(()=>[...t[15]||(t[15]=[n("Picture",-1)])]),_:1}),o(e(_),{type:"file",onChange:t[3]||(t[3]=r=>e(l).picture=r.target.files[0])}),e(l).errors.picture?(u(),m("p",X,p(e(l).errors.picture),1)):c("",!0)]),a("button",{type:"submit",disabled:e(l).processing,class:"w-full font-semibold bg-indigo-600 text-white py-3 rounded-md hover:bg-indigo-700 transition"},p(e(l).processing?"Adding...":"Add Menu Item"),9,Y)],32)]),_:1})]),_:1})])]),default:i(()=>[o(e(N),{title:"Menu Management"}),a("div",Z,[g.menus.length?(u(),m("div",ee,[(u(!0),m(I,null,j(g.menus,r=>(u(),b(e(E),{key:r.id,class:"flex flex-col h-full overflow-hidden border border-gray-200 dark:border-neutral-800 shadow-sm hover:shadow-lg transition-shadow duration-200 rounded-md"},{default:i(()=>[a("div",te,[r.picture_url?(u(),m("img",{key:0,src:r.picture_url,alt:"menu image",class:"w-full h-full object-cover object-center transition-transform duration-300 hover:scale-105"},null,8,se)):c("",!0)]),o(e(z),{class:"flex justify-between items-center p-4 bg-gray-50 dark:bg-neutral-900"},{default:i(()=>[o(e(P),{class:"text-lg font-semibold text-gray-900 dark:text-white truncate"},{default:i(()=>[n(p(r.name),1)]),_:2},1024),o(e(O),{class:F(r.is_out_of_stock?"bg-red-600 text-white px-3 py-1 rounded-md text-sm":"bg-green-600 text-white px-3 py-1 rounded-md text-sm")},{default:i(()=>[n(p(r.is_out_of_stock?"Out of Stock":"Available"),1)]),_:2},1032,["class"])]),_:2},1024),o(e(K),{class:"p-4 flex-1 flex flex-col justify-between"},{default:i(()=>[a("div",null,[a("p",oe,p(r.description),1),a("p",re," Ksh "+p(r.price),1)]),a("div",ie,[o(e(x),{size:"sm",variant:"secondary",class:"flex-1 bg-white text-black border hover:bg-blue-700",onClick:B=>S(r)},{default:i(()=>[...t[17]||(t[17]=[n(" Edit ",-1)])]),_:1},8,["onClick"]),o(e(x),{size:"sm",class:"flex-1 bg-black text-white hover:bg-red-700",variant:r.is_out_of_stock?"default":"destructive",onClick:B=>A(r.id)},{default:i(()=>[n(p(r.is_out_of_stock?"Mark Available":"Mark Out of Stock"),1)]),_:2},1032,["variant","onClick"])])]),_:2},1024)]),_:2},1024))),128))])):(u(),m("div",le,[...t[18]||(t[18]=[a("p",{class:"text-xl font-medium"},"No menu items yet",-1),a("p",null,"Add your first item to get started!",-1)])]))]),o(e(w),{open:!!e(s).id,"onUpdate:open":t[9]||(t[9]=r=>!r&&(e(s).id=null))},{default:i(()=>[o(e(h),{class:"sm:max-w-lg p-6 rounded-xl"},{default:i(()=>[o(e(V),null,{default:i(()=>[o(e($),{class:"text-lg font-semibold text-gray-900 dark:text-white"},{default:i(()=>[...t[19]||(t[19]=[n(" Edit Menu Item ",-1)])]),_:1})]),_:1}),a("form",{onSubmit:k(U,["prevent"]),class:"space-y-5 mt-4"},[a("div",ae,[o(e(f),null,{default:i(()=>[...t[20]||(t[20]=[n("Name",-1)])]),_:1}),o(e(_),{modelValue:e(s).name,"onUpdate:modelValue":t[4]||(t[4]=r=>e(s).name=r),placeholder:"e.g. Beef Burger"},null,8,["modelValue"]),e(s).errors.name?(u(),m("p",de,p(e(s).errors.name),1)):c("",!0)]),a("div",ne,[o(e(f),null,{default:i(()=>[...t[21]||(t[21]=[n("Description",-1)])]),_:1}),o(e(M),{modelValue:e(s).description,"onUpdate:modelValue":t[5]||(t[5]=r=>e(s).description=r),placeholder:"Short description..."},null,8,["modelValue"]),e(s).errors.description?(u(),m("p",pe,p(e(s).errors.description),1)):c("",!0)]),a("div",ue,[o(e(f),null,{default:i(()=>[...t[22]||(t[22]=[n("Price (Ksh)",-1)])]),_:1}),o(e(_),{modelValue:e(s).price,"onUpdate:modelValue":t[6]||(t[6]=r=>e(s).price=r),type:"number",step:"0.01",placeholder:"250.00"},null,8,["modelValue"]),e(s).errors.price?(u(),m("p",me,p(e(s).errors.price),1)):c("",!0)]),a("div",ce,[o(e(f),null,{default:i(()=>[...t[23]||(t[23]=[n("Picture",-1)])]),_:1}),o(e(_),{type:"file",onChange:t[7]||(t[7]=r=>e(s).picture=r.target.files[0])}),e(s).errors.picture?(u(),m("p",fe,p(e(s).errors.picture),1)):c("",!0)]),a("div",_e,[o(e(x),{type:"submit",disabled:e(s).processing,class:"flex-1 font-semibold"},{default:i(()=>[n(p(e(s).processing?"Updating...":"Update Menu"),1)]),_:1},8,["disabled"]),o(e(x),{type:"button",variant:"destructive",class:"flex-1 font-semibold",onClick:t[8]||(t[8]=r=>e(s).id=null)},{default:i(()=>[...t[24]||(t[24]=[n(" Cancel ",-1)])]),_:1})])],32)]),_:1})]),_:1},8,["open"])]),_:1}))}};export{Ie as default};
