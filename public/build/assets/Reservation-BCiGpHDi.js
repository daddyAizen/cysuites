import{e as m,r as S,n as j,g as e,o as i,u as B,c,w as a,b as r,a as o,j as F,h as n,t as d,f as _,F as g,i as b}from"./app-DD0hfv4c.js";import{_ as T}from"./GuestLayout-CI01RBCW.js";import{_ as k}from"./Card-B_uvIjos.js";import{_ as w,a as $,b as V}from"./CardTitle-7lo5990u.js";import{c as N}from"./utils-DYeITWNS.js";import{_ as U}from"./index-CIgvVq52.js";import{_ as f}from"./Label-DDwXecN0.js";import{_ as h}from"./Input-bBie71xb.js";import{_ as z,a as A,b as D,c as M,d as Y}from"./SelectValue-BvTcePxj.js";import{_ as v}from"./index-BMIeydvZ.js";import"./ResponsiveNavLink-XUw0AWZq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-VLubNG-8.js";import"./createLucideIcon-CMNRGVf-.js";const R={__name:"CardFooter",props:{class:{type:null,required:!1}},setup(u){const p=u;return(l,x)=>(i(),m("div",{class:j(e(N)("flex items-center p-6 pt-0",p.class))},[S(l.$slots,"default")],2))}},q={class:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 py-16 px-4"},E={class:"max-w-6xl mx-auto space-y-16"},H={class:"text-gray-500 text-sm"},I={class:"font-semibold"},L={class:"space-y-2"},O={class:"flex items-center justify-between"},G={key:0,class:"text-red-500 text-sm"},J={class:"space-y-2"},K={key:0,class:"text-red-500 text-sm"},P={class:"space-y-2"},Q={key:0,class:"text-red-500 text-sm"},W=["disabled"],X={key:0,class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6"},Z={key:1,class:"text-gray-500 text-center py-12 italic"},ve={__name:"Reservation",props:{guest:Object,tables:Array,reservations:Array},setup(u){const l=B({guest_id:u.guest.id,table_id:"",reservation_date:"",reservation_time:""}),x=()=>{l.post(route("reservations.store"),{onSuccess:()=>{l.reset("table_id","reservation_date","reservation_time"),alert("Reservation successful!")}})},C=y=>{confirm("Cancel this reservation?")&&l.delete(route("reservations.destroy",y),{preserveScroll:!0})};return(y,t)=>(i(),c(T,{title:"My Reservations"},{default:a(()=>[r(e(F),{title:"My Reservations"}),o("div",q,[o("div",E,[r(e(k),{class:"mt-3 max-w-7xl mx-auto shadow-xl border-gray-200"},{default:a(()=>[r(e(w),{class:"text-center space-y-2"},{default:a(()=>[r(e($),{class:"text-3xl font-extrabold text-gray-800"},{default:a(()=>[...t[3]||(t[3]=[n(" Book a Table 🍽️ ",-1)])]),_:1}),o("p",H,[t[4]||(t[4]=n(" Hello, ",-1)),o("span",I,d(u.guest.name),1),t[5]||(t[5]=n(" — plan your perfect meal. ",-1))])]),_:1}),t[11]||(t[11]=o("div",{class:"max-w-[85rem] mx-auto aspect-w-16 aspect-h-7"},[o("img",{class:"mx-auto h-[50vh] object-cover",src:"https://cysuites.com/assets/images/the_hive_rest.jpeg",alt:"Features Image"})],-1)),r(e(V),{class:"space-y-6 mt-2"},{default:a(()=>[o("div",L,[r(e(f),{class:"text-gray-700 font-medium"},{default:a(()=>[...t[6]||(t[6]=[n("Select Table",-1)])]),_:1}),r(e(z),{modelValue:e(l).table_id,"onUpdate:modelValue":t[0]||(t[0]=s=>e(l).table_id=s)},{default:a(()=>[r(e(A),{class:"w-full"},{default:a(()=>[r(e(D),{placeholder:"Choose a table"})]),_:1}),r(e(M),null,{default:a(()=>[(i(!0),m(g,null,b(u.tables,s=>(i(),c(e(Y),{key:s.id,value:s.id,disabled:s.status==="unavailable"},{default:a(()=>[o("div",O,[o("span",null,d(s.name),1),s.status==="unavailable"?(i(),c(e(v),{key:0,variant:"destructive",class:"ml-2 text-xs"},{default:a(()=>[...t[7]||(t[7]=[n(" Unavailable ",-1)])]),_:1})):(i(),c(e(v),{key:1,variant:"outline",class:"ml-2 text-xs text-green-700 border-green-300"},{default:a(()=>[...t[8]||(t[8]=[n(" Available ",-1)])]),_:1}))])]),_:2},1032,["value","disabled"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(l).errors.table_id?(i(),m("p",G,d(e(l).errors.table_id),1)):_("",!0)]),o("div",J,[r(e(f),{class:"text-gray-700 font-medium"},{default:a(()=>[...t[9]||(t[9]=[n("Reservation Date",-1)])]),_:1}),r(e(h),{type:"date",modelValue:e(l).reservation_date,"onUpdate:modelValue":t[1]||(t[1]=s=>e(l).reservation_date=s),class:"w-full"},null,8,["modelValue"]),e(l).errors.reservation_date?(i(),m("p",K,d(e(l).errors.reservation_date),1)):_("",!0)]),o("div",P,[r(e(f),{class:"text-gray-700 font-medium"},{default:a(()=>[...t[10]||(t[10]=[n("Reservation Time",-1)])]),_:1}),r(e(h),{type:"time",modelValue:e(l).reservation_time,"onUpdate:modelValue":t[2]||(t[2]=s=>e(l).reservation_time=s),class:"w-full"},null,8,["modelValue"]),e(l).errors.reservation_time?(i(),m("p",Q,d(e(l).errors.reservation_time),1)):_("",!0)])]),_:1}),r(e(R),null,{default:a(()=>[o("button",{class:"w-full text-lg font-semibold bg-indigo-600 text-white py-3 rounded-md hover:bg-indigo-700 transition",disabled:e(l).processing,onClick:x},d(e(l).processing?"Submitting...":"Reserve Table"),9,W)]),_:1})]),_:1}),o("div",null,[t[13]||(t[13]=o("h2",{class:"text-2xl font-bold mb-6 text-gray-800"}," Your Reservations ",-1)),u.reservations.length?(i(),m("div",X,[(i(!0),m(g,null,b(u.reservations,s=>(i(),c(e(k),{key:s.id,class:"shadow-md hover:shadow-lg transition border border-gray-200"},{default:a(()=>[r(e(w),null,{default:a(()=>[r(e($),{class:"text-lg font-semibold text-gray-800"},{default:a(()=>[n(d(s.table.name),1)]),_:2},1024),r(e(v),{variant:s.status==="pending"?"outline":s.status==="confirmed"?"default":s.status==="cancelled"?"destructive":"secondary",class:"capitalize"},{default:a(()=>[n(d(s.status),1)]),_:2},1032,["variant"])]),_:2},1024),r(e(V),{class:"text-sm text-gray-600 space-y-1"},{default:a(()=>[o("p",null,"📅 "+d(s.reservation_date),1),o("p",null,"🕒 "+d(s.reservation_time),1)]),_:2},1024),r(e(R),null,{default:a(()=>[s.status!=="cancelled"&&s.status!=="completed"?(i(),c(e(U),{key:0,variant:"destructive",size:"sm",class:"w-full bg-red-600 text-white hover:bg-red-700",onClick:ee=>C(s.id)},{default:a(()=>[...t[12]||(t[12]=[n(" Cancel Reservation ",-1)])]),_:1},8,["onClick"])):_("",!0)]),_:2},1024)]),_:2},1024))),128))])):(i(),m("div",Z," You don’t have any reservations yet. Start by booking a table above. "))])])])]),_:1}))}};export{ve as default};
