import{u as k,d as F,c as z,w as i,b as a,a as s,g as l,j as B,e as m,o as u,F as g,i as _,t as r,n as G,h as d,k as V,p as b,a3 as y}from"./app-CoAd2PPj.js";import{_ as N}from"./AppLayout-Cy6H1fxE.js";import{_ as w}from"./index-CzKV7eLj.js";import{_ as M}from"./index-BCudtLhd.js";import{_ as $,a as C,b as S,c as U}from"./DialogTitle-dtFAkbPM.js";import{_ as I}from"./DialogTrigger-DjOeuQu_.js";import{_ as c}from"./Input-C29klN5p.js";import{_ as f}from"./Label-Lr9N-Sn5.js";import"./ApplicationMark-CCYYXvrG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink--mwALwmb.js";import"./utils-C1YD3C4N.js";import"./createLucideIcon-D9_N39TU.js";const L={class:"flex justify-between items-center"},P={class:"flex justify-between items-center mb-6"},q=["value"],H=["value","disabled"],J={class:"flex gap-3"},K={class:"flex-1"},O={class:"flex-1"},Q={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},W={class:"overflow-x-auto bg-white dark:bg-neutral-800 shadow rounded-xl"},X={class:"min-w-full divide-y divide-gray-200 dark:divide-neutral-700"},Y={class:"divide-y divide-gray-200 dark:divide-neutral-700"},Z={class:"px-6 py-4"},h={class:"px-6 py-4"},tt={class:"px-6 py-4"},et={class:"px-6 py-4"},st={class:"px-6 py-4"},lt={class:"px-6 py-4 text-right flex justify-end gap-2"},at=["value"],it=["value"],ot={class:"flex gap-3"},dt={class:"flex-1"},nt={class:"flex-1"},rt={class:"flex gap-3 pt-4"},Vt={__name:"Index",props:{reservations:Array,tables:Array,guests:Array},setup(A){const v=A,n=k({guest_id:"",table_id:"",reservation_date:"",reservation_time:""}),o=k({id:null,guest_id:"",table_id:"",reservation_date:"",reservation_time:"",status:""}),x=F(!1),R=()=>{n.post(route("reservations.store"),{onSuccess:()=>n.reset()})},T=p=>{o.id=p.id,o.guest_id=p.guest_id,o.table_id=p.table_id,o.reservation_date=p.reservation_date,o.reservation_time=p.reservation_time,o.status=p.status,x.value=!0},j=()=>{o.post(route("reservations.update",o.id),{onSuccess:()=>{o.reset(),x.value=!1}})},D=p=>{confirm("Are you sure you want to delete this reservation?")&&n.post(route("reservations.cancel",p))};return(p,t)=>(u(),z(N,{title:"Reservations"},{header:i(()=>[s("div",L,[t[19]||(t[19]=s("h2",{class:"font-semibold text-xl text-gray-800 dark:text-white leading-tight"}," Reservations ",-1)),s("div",P,[a(l($),null,{default:i(()=>[a(l(I),{"as-child":""},{default:i(()=>[...t[11]||(t[11]=[s("button",{class:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition"}," + Add Reservation ",-1)])]),_:1}),a(l(C),{class:"max-w-md"},{default:i(()=>[a(l(S),null,{default:i(()=>[a(l(U),null,{default:i(()=>[...t[12]||(t[12]=[d("Add New Reservation",-1)])]),_:1})]),_:1}),s("form",{onSubmit:V(R,["prevent"]),class:"space-y-4 mt-4"},[s("div",null,[a(l(f),null,{default:i(()=>[...t[13]||(t[13]=[d("Guest",-1)])]),_:1}),b(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l(n).guest_id=e),class:"input w-full rounded-md border-gray-300"},[t[14]||(t[14]=s("option",{disabled:"",value:""}," Select Guest ",-1)),(u(!0),m(g,null,_(v.guests,e=>(u(),m("option",{key:e.id,value:e.id},r(e.name),9,q))),128))],512),[[y,l(n).guest_id]])]),s("div",null,[a(l(f),null,{default:i(()=>[...t[15]||(t[15]=[d("Table",-1)])]),_:1}),b(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>l(n).table_id=e),class:"input w-full rounded-md border-gray-300"},[t[16]||(t[16]=s("option",{disabled:"",value:""}," Select Table ",-1)),(u(!0),m(g,null,_(v.tables,e=>(u(),m("option",{key:e.id,value:e.id,disabled:e.status==="unavailable"},r(e.name)+" ("+r(e.status)+") ",9,H))),128))],512),[[y,l(n).table_id]])]),s("div",J,[s("div",K,[a(l(f),null,{default:i(()=>[...t[17]||(t[17]=[d("Date",-1)])]),_:1}),a(l(c),{type:"date",modelValue:l(n).reservation_date,"onUpdate:modelValue":t[2]||(t[2]=e=>l(n).reservation_date=e)},null,8,["modelValue"])]),s("div",O,[a(l(f),null,{default:i(()=>[...t[18]||(t[18]=[d("Time",-1)])]),_:1}),a(l(c),{type:"time",modelValue:l(n).reservation_time,"onUpdate:modelValue":t[3]||(t[3]=e=>l(n).reservation_time=e)},null,8,["modelValue"])])]),a(l(w),{type:"submit",class:"w-full bg-indigo-600 hover:bg-indigo-700"},{default:i(()=>[d(r(l(n).processing?"Adding...":"Add Reservation"),1)]),_:1})],32)]),_:1})]),_:1})])])]),default:i(()=>[a(l(B),{title:"Reservations"}),t[31]||(t[31]=s("div",{class:"max-w-[85rem] mx-auto my-8 aspect-w-16 aspect-h-7"},[s("img",{class:"w-full max-h-[30vh] object-cover rounded-xl",src:"https://cysuites.com/assets/images/staycation_offer.jpeg",alt:"Features Image"})],-1)),s("div",Q,[s("div",W,[s("table",X,[t[22]||(t[22]=s("thead",{class:"bg-gray-100 dark:bg-neutral-900"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600"}," Guest "),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600"}," Table "),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600"}," Date "),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600"}," Time "),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600"}," Status "),s("th",{class:"px-6 py-3 text-right text-xs font-semibold text-gray-600"}," Actions ")])],-1)),s("tbody",Y,[(u(!0),m(g,null,_(v.reservations,e=>(u(),m("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-neutral-700 transition"},[s("td",Z,r(e.guest.name),1),s("td",h,r(e.table.name),1),s("td",tt,r(e.reservation_date),1),s("td",et,r(e.reservation_time),1),s("td",st,[a(l(M),{class:G([{"bg-yellow-500":e.status==="pending","bg-green-600":e.status==="confirmed","bg-red-600":e.status==="cancelled","bg-gray-500":e.status==="completed"},"capitalize text-white px-2"])},{default:i(()=>[d(r(e.status),1)]),_:2},1032,["class"])]),s("td",lt,[a(l(w),{size:"sm",class:"flex-1 bg-white text-black border hover:bg-blue-700",variant:"secondary",onClick:E=>T(e)},{default:i(()=>[...t[20]||(t[20]=[d("Edit",-1)])]),_:1},8,["onClick"]),a(l(w),{size:"sm",class:"flex-1 bg-neutral-800 text-white hover:bg-red-700",variant:"destructive",onClick:E=>D(e.id)},{default:i(()=>[...t[21]||(t[21]=[d("Delete",-1)])]),_:1},8,["onClick"])])]))),128))])])])]),a(l($),{open:x.value,"onUpdate:open":t[10]||(t[10]=e=>x.value=e)},{default:i(()=>[a(l(C),{class:"max-w-md"},{default:i(()=>[a(l(S),null,{default:i(()=>[a(l(U),null,{default:i(()=>[...t[23]||(t[23]=[d("Edit Reservation",-1)])]),_:1})]),_:1}),s("form",{onSubmit:V(j,["prevent"]),class:"space-y-4 mt-4"},[s("div",null,[a(l(f),null,{default:i(()=>[...t[24]||(t[24]=[d("Guest",-1)])]),_:1}),b(s("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l(o).guest_id=e),class:"input w-full rounded-md border-gray-300"},[(u(!0),m(g,null,_(v.guests,e=>(u(),m("option",{key:e.id,value:e.id},r(e.name),9,at))),128))],512),[[y,l(o).guest_id]])]),s("div",null,[a(l(f),null,{default:i(()=>[...t[25]||(t[25]=[d("Table",-1)])]),_:1}),b(s("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l(o).table_id=e),class:"input w-full rounded-md border-gray-300"},[(u(!0),m(g,null,_(v.tables,e=>(u(),m("option",{key:e.id,value:e.id},r(e.name),9,it))),128))],512),[[y,l(o).table_id]])]),s("div",ot,[s("div",dt,[a(l(f),null,{default:i(()=>[...t[26]||(t[26]=[d("Date",-1)])]),_:1}),a(l(c),{type:"date",modelValue:l(o).reservation_date,"onUpdate:modelValue":t[6]||(t[6]=e=>l(o).reservation_date=e)},null,8,["modelValue"])]),s("div",nt,[a(l(f),null,{default:i(()=>[...t[27]||(t[27]=[d("Time",-1)])]),_:1}),a(l(c),{type:"time",modelValue:l(o).reservation_time,"onUpdate:modelValue":t[7]||(t[7]=e=>l(o).reservation_time=e)},null,8,["modelValue"])])]),s("div",null,[a(l(f),null,{default:i(()=>[...t[28]||(t[28]=[d("Status",-1)])]),_:1}),b(s("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>l(o).status=e),class:"input w-full rounded-md border-gray-300"},[...t[29]||(t[29]=[s("option",{value:"pending"},"Pending",-1),s("option",{value:"confirmed"},"Confirmed",-1),s("option",{value:"cancelled"},"Cancelled",-1),s("option",{value:"completed"},"Completed",-1)])],512),[[y,l(o).status]])]),s("div",rt,[a(l(w),{type:"submit",class:"flex-1 bg-indigo-600 hover:bg-indigo-700"},{default:i(()=>[d(r(l(o).processing?"Saving...":"Save Changes"),1)]),_:1}),a(l(w),{type:"button",variant:"destructive",class:"flex-1",onClick:t[9]||(t[9]=e=>x.value=!1)},{default:i(()=>[...t[30]||(t[30]=[d("Cancel",-1)])]),_:1})])],32)]),_:1})]),_:1},8,["open"])]),_:1}))}};export{Vt as default};
