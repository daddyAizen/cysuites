import{u as y,c as k,w as l,b as s,a as d,g as e,j as N,e as m,o as u,F as I,i as j,f as c,h as n,t as p,n as F,k as b}from"./app-CwqbuaoV.js";import{_ as D}from"./AppLayout-BMi79edI.js";import{d as v}from"./index-C3slkyGb.js";import{_ as E}from"./Card-di3Gb9u6.js";import{_ as z,a as P,b as K}from"./CardTitle-BU-mPokq.js";import{_}from"./index-BYXQZvXk.js";import{_ as O}from"./index-CicusVC5.js";import{_ as w,a as V,b as $,c as h}from"./DialogTitle--WiQzZXd.js";import{_ as L}from"./DialogTrigger-Dyjtx2I6.js";import{_ as x}from"./Input-MrDL1z9k.js";import{_ as f}from"./Label-C0F5AhvR.js";import{_ as M}from"./Textarea-C75wZKOK.js";import"./ApplicationMark-CZiei0DI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-CYy-q1Wy.js";import"./utils-shxNTvJ-.js";import"./createLucideIcon-CPcqOnVP.js";const T={class:"flex justify-between items-center"},q={class:"space-y-1.5"},G={key:0,class:"text-sm text-red-500"},H={class:"space-y-1.5"},J={key:0,class:"text-sm text-red-500"},Q={class:"space-y-1.5"},R={key:0,class:"text-sm text-red-500"},W={class:"space-y-1.5"},X={key:0,class:"text-sm text-red-500"},Y={class:"py-10 max-w-7xl mx-auto sm:px-6 lg:px-8"},Z={key:0,class:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3"},ee={class:"w-full h-48 overflow-hidden bg-gray-100 dark:bg-neutral-900"},te=["src"],se={class:"text-gray-700 dark:text-gray-400 line-clamp-3"},oe={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mt-2"},re={class:"flex flex-col sm:flex-row gap-2 mt-4"},le={key:1,class:"text-center py-20 text-gray-500 dark:text-gray-400 space-y-2"},ie={class:"space-y-1.5"},ae={key:0,class:"text-sm text-red-500"},de={class:"space-y-1.5"},ne={key:0,class:"text-sm text-red-500"},pe={class:"space-y-1.5"},ue={key:0,class:"text-sm text-red-500"},me={class:"space-y-1.5"},ce={key:0,class:"text-sm text-red-500"},fe={class:"flex space-x-2 pt-4"},Ne={__name:"Index",props:{menus:Array},setup(g){const i=y({name:"",description:"",price:"",picture:null,is_out_of_stock:!1}),o=y({id:null,name:"",description:"",price:"",picture:null,is_out_of_stock:!1}),C=()=>{const a=new FormData;a.append("name",i.name),a.append("description",i.description),a.append("price",i.price),a.append("is_out_of_stock",i.is_out_of_stock?1:0),i.picture&&a.append("picture",i.picture),i.post(route("menu.store"),{onSuccess:()=>i.reset()})},S=a=>{o.id=a.id,o.name=a.name,o.description=a.description,o.price=a.price,o.is_out_of_stock=a.is_out_of_stock,o.picture=null},U=()=>{const a=new FormData;a.append("name",o.name),a.append("description",o.description),a.append("price",o.price),a.append("is_out_of_stock",o.is_out_of_stock?1:0),o.picture&&a.append("picture",o.picture),v.Inertia.post(route("menu.update",o.id),a,{onSuccess:()=>{o.reset(),o.id=null}})},A=a=>{v.Inertia.post(route("menu.toggleStock",a))};return(a,t)=>(u(),k(D,{title:"Menu Management"},{header:l(()=>[d("div",T,[t[16]||(t[16]=d("h2",{class:"font-semibold text-2xl text-gray-900 dark:text-white leading-tight"}," Menu Management ",-1)),s(e(w),null,{default:l(()=>[s(e(L),{"as-child":""},{default:l(()=>[s(e(_),{size:"lg",class:"font-medium"},{default:l(()=>[...t[10]||(t[10]=[n(" + Add Menu Item ",-1)])]),_:1})]),_:1}),s(e(V),{class:"sm:max-w-lg p-6 rounded-2xl"},{default:l(()=>[s(e($),null,{default:l(()=>[s(e(h),{class:"text-lg font-semibold text-gray-900 dark:text-white"},{default:l(()=>[...t[11]||(t[11]=[n(" Add New Menu Item ",-1)])]),_:1})]),_:1}),d("form",{onSubmit:b(C,["prevent"]),class:"space-y-5 mt-4"},[d("div",q,[s(e(f),null,{default:l(()=>[...t[12]||(t[12]=[n("Name",-1)])]),_:1}),s(e(x),{modelValue:e(i).name,"onUpdate:modelValue":t[0]||(t[0]=r=>e(i).name=r),placeholder:"e.g. Beef Burger"},null,8,["modelValue"]),e(i).errors.name?(u(),m("p",G,p(e(i).errors.name),1)):c("",!0)]),d("div",H,[s(e(f),null,{default:l(()=>[...t[13]||(t[13]=[n("Description",-1)])]),_:1}),s(e(M),{modelValue:e(i).description,"onUpdate:modelValue":t[1]||(t[1]=r=>e(i).description=r),placeholder:"Short description..."},null,8,["modelValue"]),e(i).errors.description?(u(),m("p",J,p(e(i).errors.description),1)):c("",!0)]),d("div",Q,[s(e(f),null,{default:l(()=>[...t[14]||(t[14]=[n("Price (Ksh)",-1)])]),_:1}),s(e(x),{modelValue:e(i).price,"onUpdate:modelValue":t[2]||(t[2]=r=>e(i).price=r),type:"number",step:"0.01",placeholder:"250.00"},null,8,["modelValue"]),e(i).errors.price?(u(),m("p",R,p(e(i).errors.price),1)):c("",!0)]),d("div",W,[s(e(f),null,{default:l(()=>[...t[15]||(t[15]=[n("Picture",-1)])]),_:1}),s(e(x),{type:"file",onChange:t[3]||(t[3]=r=>e(i).picture=r.target.files[0])}),e(i).errors.picture?(u(),m("p",X,p(e(i).errors.picture),1)):c("",!0)]),s(e(_),{type:"submit",disabled:e(i).processing,class:"w-full font-semibold"},{default:l(()=>[n(p(e(i).processing?"Adding...":"Add Menu Item"),1)]),_:1},8,["disabled"])],32)]),_:1})]),_:1})])]),default:l(()=>[s(e(N),{title:"Menu Management"}),d("div",Y,[g.menus.length?(u(),m("div",Z,[(u(!0),m(I,null,j(g.menus,r=>(u(),k(e(E),{key:r.id,class:"flex flex-col h-full overflow-hidden border border-gray-200 dark:border-neutral-800 shadow-sm hover:shadow-lg transition-shadow duration-200 rounded-2xl"},{default:l(()=>[d("div",ee,[r.picture_url?(u(),m("img",{key:0,src:r.picture_url,alt:"menu image",class:"w-full h-full object-cover object-center transition-transform duration-300 hover:scale-105"},null,8,te)):c("",!0)]),s(e(z),{class:"flex justify-between items-center p-4 bg-gray-50 dark:bg-neutral-900"},{default:l(()=>[s(e(P),{class:"text-lg font-semibold text-gray-900 dark:text-white truncate"},{default:l(()=>[n(p(r.name),1)]),_:2},1024),s(e(O),{class:F(r.is_out_of_stock?"bg-red-600 text-white px-3 py-1 rounded-full text-sm":"bg-green-600 text-white px-3 py-1 rounded-full text-sm")},{default:l(()=>[n(p(r.is_out_of_stock?"Out of Stock":"Available"),1)]),_:2},1032,["class"])]),_:2},1024),s(e(K),{class:"p-4 flex-1 flex flex-col justify-between"},{default:l(()=>[d("div",null,[d("p",se,p(r.description),1),d("p",oe," Ksh "+p(r.price),1)]),d("div",re,[s(e(_),{size:"sm",variant:"secondary",class:"flex-1",onClick:B=>S(r)},{default:l(()=>[...t[17]||(t[17]=[n(" Edit ",-1)])]),_:1},8,["onClick"]),s(e(_),{size:"sm",class:"flex-1",variant:r.is_out_of_stock?"default":"destructive",onClick:B=>A(r.id)},{default:l(()=>[n(p(r.is_out_of_stock?"Mark Available":"Mark Out of Stock"),1)]),_:2},1032,["variant","onClick"])])]),_:2},1024)]),_:2},1024))),128))])):(u(),m("div",le,[...t[18]||(t[18]=[d("p",{class:"text-xl font-medium"},"No menu items yet",-1),d("p",null,"Add your first item to get started!",-1)])]))]),s(e(w),{open:!!e(o).id,"onUpdate:open":t[9]||(t[9]=r=>!r&&(e(o).id=null))},{default:l(()=>[s(e(V),{class:"sm:max-w-lg p-6 rounded-2xl"},{default:l(()=>[s(e($),null,{default:l(()=>[s(e(h),{class:"text-lg font-semibold text-gray-900 dark:text-white"},{default:l(()=>[...t[19]||(t[19]=[n(" Edit Menu Item ",-1)])]),_:1})]),_:1}),d("form",{onSubmit:b(U,["prevent"]),class:"space-y-5 mt-4"},[d("div",ie,[s(e(f),null,{default:l(()=>[...t[20]||(t[20]=[n("Name",-1)])]),_:1}),s(e(x),{modelValue:e(o).name,"onUpdate:modelValue":t[4]||(t[4]=r=>e(o).name=r),placeholder:"e.g. Beef Burger"},null,8,["modelValue"]),e(o).errors.name?(u(),m("p",ae,p(e(o).errors.name),1)):c("",!0)]),d("div",de,[s(e(f),null,{default:l(()=>[...t[21]||(t[21]=[n("Description",-1)])]),_:1}),s(e(M),{modelValue:e(o).description,"onUpdate:modelValue":t[5]||(t[5]=r=>e(o).description=r),placeholder:"Short description..."},null,8,["modelValue"]),e(o).errors.description?(u(),m("p",ne,p(e(o).errors.description),1)):c("",!0)]),d("div",pe,[s(e(f),null,{default:l(()=>[...t[22]||(t[22]=[n("Price (Ksh)",-1)])]),_:1}),s(e(x),{modelValue:e(o).price,"onUpdate:modelValue":t[6]||(t[6]=r=>e(o).price=r),type:"number",step:"0.01",placeholder:"250.00"},null,8,["modelValue"]),e(o).errors.price?(u(),m("p",ue,p(e(o).errors.price),1)):c("",!0)]),d("div",me,[s(e(f),null,{default:l(()=>[...t[23]||(t[23]=[n("Picture",-1)])]),_:1}),s(e(x),{type:"file",onChange:t[7]||(t[7]=r=>e(o).picture=r.target.files[0])}),e(o).errors.picture?(u(),m("p",ce,p(e(o).errors.picture),1)):c("",!0)]),d("div",fe,[s(e(_),{type:"submit",disabled:e(o).processing,class:"flex-1 font-semibold"},{default:l(()=>[n(p(e(o).processing?"Updating...":"Update Menu"),1)]),_:1},8,["disabled"]),s(e(_),{type:"button",variant:"destructive",class:"flex-1 font-semibold",onClick:t[8]||(t[8]=r=>e(o).id=null)},{default:l(()=>[...t[24]||(t[24]=[n(" Cancel ",-1)])]),_:1})])],32)]),_:1})]),_:1},8,["open"])]),_:1}))}};export{Ne as default};
