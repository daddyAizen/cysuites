import{A as w,d as x,u as $,c as C,w as d,a as t,e as m,f as p,b as a,o as i,t as n,g as s,h as f,F as P,i as S,k as h}from"./app-vtqjdjmy.js";import{_ as D}from"./AppLayout-Cyl3tDUk.js";import{_}from"./index-Ivxq07LS.js";import{_ as b}from"./Input-DWSMLlHN.js";import{_ as N}from"./Textarea-DjPqKcl9.js";import{_ as E,a as U,b as A,c as j}from"./DialogTitle-fQLhWCRk.js";import{_ as B}from"./DialogFooter-BgsHYLd8.js";import"./ApplicationMark-DGkoKDh2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-B_2EVZXF.js";import"./utils-DwRZPFH2.js";import"./createLucideIcon-BRHg-Rzb.js";const F={class:"p-8 max-w-6xl mx-auto space-y-6"},M={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert"},I={class:"block sm:inline"},z={class:"flex justify-between items-center"},L={class:"rounded-xl border bg-card text-card-foreground shadow overflow-x-auto"},T={class:"w-full border-collapse min-w-[700px]"},q={class:"p-4"},G={class:"p-4 line-clamp-2"},H={class:"p-4"},J={class:"p-4"},K={class:"p-4 text-right"},O={key:0},Q={key:0,class:"text-red-500 text-sm mt-1"},R={key:0,class:"text-red-500 text-sm mt-1"},W={class:"grid grid-cols-2 gap-4"},X={key:0,class:"text-red-500 text-sm mt-1"},Y={key:0,class:"text-red-500 text-sm mt-1"},pe={__name:"Index",props:{promotions:Array},setup(v){w();const u=x(!1),c=x(!1),g=x(null),o=$({id:null,name:"",description:"",start_date:"",end_date:""}),k=()=>{c.value=!1,o.reset(),u.value=!0},y=r=>{c.value=!0,g.value=r,o.id=r.id,o.name=r.name,o.description=r.description,o.start_date=r.start_date,o.end_date=r.end_date,u.value=!0},V=()=>{c.value?o.put(route("promotions.update",o.id),{preserveScroll:!0,onSuccess:()=>{u.value=!1}}):o.post(route("promotions.store"),{preserveScroll:!0,onSuccess:()=>{u.value=!1}})};return(r,e)=>(i(),C(D,null,{default:d(()=>[t("div",F,[r.successMessage?(i(),m("div",M,[e[7]||(e[7]=t("strong",{class:"font-bold"},"Success!",-1)),t("span",I,n(r.successMessage),1),t("span",{onClick:e[0]||(e[0]=l=>r.successMessage=null),class:"absolute top-0 bottom-0 right-0 px-4 py-3 cursor-pointer"}," âœ• ")])):p("",!0),t("div",z,[e[9]||(e[9]=t("h1",{class:"text-3xl font-semibold tracking-tight"},"Promotions",-1)),a(s(_),{class:"bg-blue-600 text-white hover:bg-blue-700",onClick:k},{default:d(()=>[...e[8]||(e[8]=[f("+ Add Promotion",-1)])]),_:1})]),e[18]||(e[18]=t("div",{class:"max-w-[85rem] mx-auto my-8 aspect-w-16 aspect-h-7"},[t("img",{class:"w-full max-h-[30vh] object-cover rounded-xl",src:"https://images.pexels.com/photos/5872364/pexels-photo-5872364.jpeg",alt:"Features Image"})],-1)),t("div",L,[t("table",T,[e[12]||(e[12]=t("thead",{class:"bg-muted/50"},[t("tr",null,[t("th",{class:"text-left p-4 font-medium"},"Name"),t("th",{class:"text-left p-4 font-medium"},"Description"),t("th",{class:"text-left p-4 font-medium"},"Start Date"),t("th",{class:"text-left p-4 font-medium"},"End Date"),t("th",{class:"text-right p-4 font-medium"},"Actions")])],-1)),t("tbody",null,[(i(!0),m(P,null,S(v.promotions,l=>(i(),m("tr",{key:l.id,class:"border-t hover:bg-muted/30 transition"},[t("td",q,n(l.name),1),t("td",G,n(l.description),1),t("td",H,n(l.start_date),1),t("td",J,n(l.end_date),1),t("td",K,[a(s(_),{variant:"outline",size:"sm",onClick:Z=>y(l)},{default:d(()=>[...e[10]||(e[10]=[f("Edit",-1)])]),_:1},8,["onClick"])])]))),128)),v.promotions.length===0?(i(),m("tr",O,[...e[11]||(e[11]=[t("td",{colspan:"5",class:"p-6 text-center text-muted-foreground"},"No promotions yet.",-1)])])):p("",!0)])])]),a(s(E),{open:u.value,"onUpdate:open":e[6]||(e[6]=l=>u.value=l)},{default:d(()=>[a(s(U),{class:"sm:max-w-lg"},{default:d(()=>[a(s(A),null,{default:d(()=>[a(s(j),null,{default:d(()=>[f(n(c.value?"Edit Promotion":"Add Promotion"),1)]),_:1})]),_:1}),t("form",{onSubmit:h(V,["prevent"]),class:"space-y-4"},[t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium mb-1"},"Name",-1)),a(s(b),{modelValue:s(o).name,"onUpdate:modelValue":e[1]||(e[1]=l=>s(o).name=l),placeholder:"Promotion name"},null,8,["modelValue"]),s(o).errors.name?(i(),m("div",Q,n(s(o).errors.name),1)):p("",!0)]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium mb-1"},"Description",-1)),a(s(N),{modelValue:s(o).description,"onUpdate:modelValue":e[2]||(e[2]=l=>s(o).description=l),placeholder:"Promotion description"},null,8,["modelValue"]),s(o).errors.description?(i(),m("div",R,n(s(o).errors.description),1)):p("",!0)]),t("div",W,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium mb-1"},"Start Date",-1)),a(s(b),{type:"date",modelValue:s(o).start_date,"onUpdate:modelValue":e[3]||(e[3]=l=>s(o).start_date=l)},null,8,["modelValue"]),s(o).errors.start_date?(i(),m("div",X,n(s(o).errors.start_date),1)):p("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium mb-1"},"End Date",-1)),a(s(b),{type:"date",modelValue:s(o).end_date,"onUpdate:modelValue":e[4]||(e[4]=l=>s(o).end_date=l)},null,8,["modelValue"]),s(o).errors.end_date?(i(),m("div",Y,n(s(o).errors.end_date),1)):p("",!0)])]),a(s(B),{class:"flex justify-end gap-3 mt-4"},{default:d(()=>[a(s(_),{type:"button",variant:"outline",onClick:e[5]||(e[5]=l=>u.value=!1)},{default:d(()=>[...e[17]||(e[17]=[f("Cancel",-1)])]),_:1}),a(s(_),{type:"submit",disabled:s(o).processing},{default:d(()=>[f(n(s(o).processing?"Saving...":c.value?"Update Promotion":"Create Promotion"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])])]),_:1}))}};export{pe as default};
